<html>
<head>
    <script>var cities = [{
        "name": "南昌",
        "x1": 115.719937,
        "y1": 28.517948,
        "x2": 116.098231,
        "y2": 28.818142,
        "areas": [{
            "name": "阳明锦城",
            "x1": 115.906416,
            "y1": 28.694083,
            "x2": 115.908632,
            "y2": 28.695501,
            "char": null
        }, {"name": "投资大厦", "x1": 115.911208, "y1": 28.693474, "x2": 115.911765, "y2": 28.693969, "char": null}]
    }, {"name": "上海", "x1": 121.065111, "y1": 31.009921, "x2": 121.778006, "y2": 31.420052, "areas": null}];
    navigator.geolocation.getCurrentPosition(function (p) {
        var city = '';
        var area = '';
        var x = p.coords.longitude;
        var y = p.coords.latitude;
        cities.forEach(function (c) {
            if (c.x1 < x && x < c.x2 && c.y1 < y && y < c.y2) {
                city = c.name;
                c.areas.forEach(function (a) {
                    if (a.x1 < x && x < a.x2 && a.y1 < y && y < a.y2) {
                        area = a.name;
                    }
                });
            }
        });
        window.location.href = '/shop/?city=' + city + '&area=' + area;
    }, function (e) {
        window.location.href = '/shop/?city=&area=';
    }, {enableHighAccuracy: true, timeout: 5000, maximumAge: 0})</script>
</head>
</html>